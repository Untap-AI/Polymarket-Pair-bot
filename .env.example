# =============================================================================
# Polymarket Pair Measurement Bot — Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# Priority: env vars > config.yaml > hardcoded defaults
# The only REQUIRED variable is DATABASE_URL (for cloud/PostgreSQL mode).
# Everything else has sensible defaults.
# =============================================================================

# ---------------------------------------------------------------------------
# Database (required for cloud deployment)
# ---------------------------------------------------------------------------
# PostgreSQL connection string (Supabase, Render Postgres, etc.)
# If not set, falls back to local SQLite at DATABASE_PATH
DATABASE_URL=postgresql://user:password@host:5432/dbname

# Local SQLite path (only used when DATABASE_URL is not set)
# DATABASE_PATH=data/measurements.db

# ---------------------------------------------------------------------------
# Parameter Sets
# ---------------------------------------------------------------------------
# Comma-separated delta values — one parameter set is created per delta
DELTA_POINTS=3,4,5,6,7,8,9,10

# Spread offset in points (shared by all parameter sets)
S0_POINTS=1

# Trigger rule: ASK_TOUCH
# TRIGGER_RULE=ASK_TOUCH

# Reference price source: MIDPOINT or LAST_TRADE
# REFERENCE_PRICE_SOURCE=MIDPOINT

# ---------------------------------------------------------------------------
# Markets
# ---------------------------------------------------------------------------
# Comma-separated crypto assets to monitor
# CRYPTO_ASSETS=btc,eth,sol,xrp

# Market type (only 15m supported currently)
# MARKET_TYPE=15m

# How often to poll for new markets (seconds)
# DISCOVERY_POLL_INTERVAL=60

# Start monitoring this many seconds before settlement
# PRE_DISCOVERY_LEAD=120

# ---------------------------------------------------------------------------
# Sampling
# ---------------------------------------------------------------------------
# FIXED_INTERVAL or FIXED_COUNT
# SAMPLING_MODE=FIXED_INTERVAL

# Seconds between measurement cycles (FIXED_INTERVAL mode)
# CYCLE_INTERVAL_SECONDS=10

# Number of cycles per market (FIXED_COUNT mode)
# CYCLES_PER_MARKET=90

# ---------------------------------------------------------------------------
# Data Collection
# ---------------------------------------------------------------------------
# Store per-cycle orderbook snapshots (increases DB size)
# ENABLE_SNAPSHOTS=false

# Store per-cycle lifecycle records for active attempts (high volume)
# ENABLE_LIFECYCLE_TRACKING=false

# ---------------------------------------------------------------------------
# Quality
# ---------------------------------------------------------------------------
# Seconds without WS data before flagging a feed gap
# FEED_GAP_THRESHOLD=10

# Max allowed deviation of YES+NO midpoints from 100
# MAX_REF_SUM_DEVIATION=2

# ENABLE_SANITY_CHECKS=true
# MAX_ANOMALIES=50

# ---------------------------------------------------------------------------
# Logging
# ---------------------------------------------------------------------------
# DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Log file path (empty string to disable file logging)
LOG_FILE=logs/bot.log

# Rich console dashboard (disable for headless/cloud deployment)
CONSOLE_DASHBOARD=false

# ---------------------------------------------------------------------------
# WebSocket
# ---------------------------------------------------------------------------
# WS_URL=wss://ws-subscriptions-clob.polymarket.com/ws/market
# WS_HEARTBEAT=30
# WS_RECONNECT_MAX_DELAY=60
# REST_FALLBACK_DELAY=60